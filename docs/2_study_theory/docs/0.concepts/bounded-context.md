---
layout: default
title: "• DDD - BoundedContext"
grand_parent: "study(방법론)"
parent: "concepts"
nav_order: 3
has_children: true

---


## 1. '통일된 모델'을 피해야 하는 이유

[martin fawler - Multiple Canonical Models](https://martinfowler.com/bliki/MultipleCanonicalModels.html)

### **문제상황**

우리 프로젝트에서도 아주 심각하게 나타나는 고질적인 문제를 공감할 수 있도록 설명한 것 같음.

* *커다란 프로젝트를 진행할 때 전체 솔루션을 커버하는(enterprise-wide) 급의 개념적인 모델링 하는 팀이 주로 있게 마련이다. 가장 일반적으로 데이터 관리 팀이 그렇고 종종 전사적인 서비스 정의에 관여 한다. 이들은 **각각의 어플리케이션(서버)을 발전시키는 노력에 중점을 두기보다는 여러 어플리케이션을 통합시키는데 집중**한다.*
* *이러한 그룹의 대부분은 하나의 포괄이 가능한 전체 공유 모델을 만드는 데 집중한다. 모든 서버가 같은 모델을 기반으로 동작하면 전사적으로 데이터를 통합하는 것이 훨씬 쉬워 혼자 노는(stovepipe) 프로그램이 나타나는 것을 피할 수 있다. 이러한 생각은 종종  데이터베이스를 하나로 공유해서 전체 팀을 통합하는 접근 방식을 따른다. 여기서 통합이란 논리적으로 통일된 한개의 데이터베이스를 공유하는 프로그램(서버)들에 의해 나타나는 현상이다.*

* *이 통일된 모델은 (single conceptual model)은 ~~븅신같이~~ 제어하기(tricky beast) 힘들다. 먼저 뭐 하나 잘 만들기 어렵다 - 그런 걸 할 수 있는 사람은 매우 드물다. 설령 네가 하나를 제대로 만들었어도 다른 사람이 이해하기 어렵다. 많은 경우 나는 모델이 아주 잘 구성되었음에도 불평을 들어왔다 - 아무도 이해 못하더라. 내 생각에 이건 본질적인 문제다. 모든 대형 솔루션의 모델은 굉장히 크거나, 아니면 굉장히 추상적이거나, 둘다이다. **크다는 것과 추상적이라는 것은 둘다 이해하기 어려운 개념이 숨어있다는 뜻**이다.*
<br><br>

### **모델을 여럿으로 분리한다면?**

<br> 메시지(messaging)를 기반으로 해 기능을 분리하는 방식이 요즘 많이 쓰이고 있다. 그 방법이 경우에 따라 이론적으로는 좋지 않을 수도 있을진 몰라도 **정치적인(political) 측면에서는** 좋은 결과를 낳기 쉽다. (기범 - 정치에 이점이 있다는 생각이 좋은 통찰로 느껴지네요)
<br><br>
* 한개가 아니라 여러 개의 표준 모델(canonical model)을 가질 수 있다. (표준 모델은 단순 번역해본 것이고, '여러 서로 다른 조직이 서로 다른 규칙에 의해 이끌 수 있다'는 뜻에 가까워 보임 - 기범)
<br><br>
* 이 모델들은 서로 겹칠 수 있다(overlap)
<br><br>
* 서로 겹치는 개념이라고 해서 같은 구조를 공유할 필요 없다
<br><br>
* 이 모델들은 각자 어플리케이션 간의 소통에 필요한 내용만 전담하면(cover) 된다.
<br><br>
* 이 모델들은 '수확하는'(harvesting) 과정으로 구축될 수 있는데, 처음부터 앞에서 찬찬히 계획된 대로 구축할 욕심을 부릴 필요 없고, n * n 소통을 통해 각자의 발전이 가능하다.
<br><br>

## 2. Bounded Context

[martin fawler - bounded context](https://martinfowler.com/bliki/BoundedContext.html)

'경계를 지은 개념의 집합'(Bounded Context)는 DDD의 핵심패턴이다. 그리고 DDD의 범위를 벗어나 MSA 등등의 서로 독립된 어플리케이션을 구축하는데 아주 많이 참고가 되고 있는 것으로 보인다.
<br><br>![](https://martinfowler.com/bliki/images/boundedContext/sketch.png)
<br><br>그림에 의해 직관적으로 이해가 충분히 가능하다. 그러나 기술적으로 들어가면 풀어야 할 숙제가 많을 것이고, 실패할 경우 오히려 unified model이 더 나은 결과를 초래하는 것으로 보인다.
<br><br>아래와 같은 특징을 가지게 된다.
<br><br>
* **상징의 다의성**([polysemes](https://en.wikipedia.org/wiki/Polysemy))을 인정한다. 즉, 하나의 표현이 가질 수 있는 여러 뜻들이 있는 상황에서 통일된 모델이 존재할 수 없다는 것을 받아들인다.
<br><br>
* 통일적인 모델에서 벗어나 **독립적인 여러 모델들**(Multiple Canonical Model)을 구축한다.
<br><br>
* 경계를 둘러서 정의한 모델은(Bounded Context) (1)자기 고유의 개념과 (2)남과 공유하는 개념을 둘다 갖고 있게된다. 대신 **남과 공유하는 개념을 서로 전혀 다른 구조를** 가져도 된다.
<br><br>
* 여러가지 요소들을 이용해서 이 '경계'를 끌어내볼 수 있다. 그 중 가장 대표적인게 **인간의 문화**다. 그외 **기술적인 특성**도 하나의 도메인 경계 내에서 각자의 영역을 가지고는 하는데 -예를 들면 in-memory와 storage db의 구분- 그건 DDD에서 다른 방식으로 다룬다.
<br><br>

## 3. 결론
<br>
Bounded Context는 DDD (특히 Aggregate) 개념에 아주 가까운 중요한 기술적 개념이지만,
<br><br>Martin Fawler 성님의 이 포스팅과 우리의 실제 프로젝트에서의 경험에 비추어보면
<br><br>소프트웨어를 발전시키는 주체이자 목적이 되는 **인간과 조직의 특성**에 대해 더 생각할 게 많이 생기는 것 같다.